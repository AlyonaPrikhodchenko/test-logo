import{getData}from"./api.js";const initMap=()=>{const e=document.querySelector("#address"),t=document.querySelector("#contacts-button"),o="60.03311250396163",a="30.42866049999992";let n=new ymaps.Map("map",{center:[o,a],zoom:7});const c=async e=>{n.geoObjects.removeAll();const t=(e=>{for(let t of e){const e=t.GeoObject.Point.pos.split(" ");return[e[1],e[0]]}})((await getData(e)).response.GeoObjectCollection.featureMember);n.setCenter(t),n.setZoom(5),(e=>{let t=new ymaps.Placemark(e,{},{iconLayout:"default#image",iconImageHref:"../img/icons/map-pin.svg",iconImageSize:[27,39],iconImageOffset:[-10,-39],draggable:!0});n.geoObjects.add(t)})(t)};e.addEventListener("keydown",(e=>{"Enter"===e.key&&(e.preventDefault(),c(e.target))})),t.addEventListener("click",(async()=>{c(e)}))};export{initMap};