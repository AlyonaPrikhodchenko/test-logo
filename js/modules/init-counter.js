const formatNumber=e=>{const t=String(e).split("");t.splice(-3,0," ");return t.join("")},getItemPrice=e=>e.value*e.dataset.price,initCounter=()=>{const e=document.querySelectorAll("[data-counters");if(e){let t=0,r=document.querySelector("#total-price-items");e.forEach((e=>{if(e){const a=e.querySelector(".card__result-button--plus"),o=e.querySelector(".card__result-button--minus");let u=e.querySelector("[data-total-price]"),l=e.querySelector("[data-total-price-old]"),n=e.querySelector(".card__result-quantity-value");n.value<=1&&(n.value=1,o.disabled=!0),a.addEventListener("click",(()=>{n.value++,u.textContent=formatNumber(n.value*n.dataset.price),r.textContent=Number(r.textContent)+Number(n.dataset.price),n.dataset.oldPrice&&(l.textContent=formatNumber(n.value*n.dataset.oldPrice)),n.value>1&&(o.disabled=!1)})),o.addEventListener("click",(()=>{n.value--,u.textContent=formatNumber(n.value*n.dataset.price),r.textContent=Number(r.textContent)-Number(n.dataset.price),n.dataset.oldPrice&&(l.textContent=formatNumber(n.value*n.dataset.oldPrice)),n.value<=1&&(n.value=1,o.disabled=!0)})),t+=getItemPrice(n),formatNumber(t)}})),r.textContent=t}};export{initCounter};