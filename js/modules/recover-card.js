import{formatNumber}from"./util.js";const recoverTemplate=document.querySelector("#recover").content.querySelector(".card__recover"),restoresCard=()=>{let e=document.querySelector("#products-price"),t=document.querySelector("#products-count");const r=document.querySelector(".products__list"),c=Array.from(r.children);c&&c.forEach((r=>{const c=recoverTemplate.cloneNode(!0);let o=c.querySelector("#card-name"),a=r.querySelector(".card__title"),d=r.querySelector(".card__delete"),u=r.querySelector(".card__content"),n=c.querySelector(".card__recover-button"),l=c.querySelector(".card__recover-delete"),s=r.querySelector(".card__result-quantity-value");d&&d.addEventListener("click",(()=>{r.removeChild(u),t.dataset.count=Number(t.dataset.count)-Number(s.value),t.textContent=t.dataset.count,e.dataset.productsPrice=Number(e.dataset.productsPrice)-Number(s.dataset.totalPriceOld),e.textContent=formatNumber(e.dataset.productsPrice),o.textContent=o?a.textContent:"Наименование товара",r.appendChild(c)})),n&&n.addEventListener("click",(()=>{r.appendChild(u),r.removeChild(c),t.dataset.count=Number(t.dataset.count)+Number(s.value),t.textContent=t.dataset.count,e.dataset.productsPrice=Number(e.dataset.productsPrice)+Number(s.dataset.totalPriceOld),e.textContent=formatNumber(e.dataset.productsPrice)})),l&&l.addEventListener("click",(()=>{r.remove()}))}))};export{restoresCard};