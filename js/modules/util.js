const SHOW_TIME=4e3,contactsInputs=document.querySelectorAll(".contacts__input"),contactsPlaceholders=document.querySelectorAll(".contacts__placeholder"),text=document.querySelector(".contacts__button-text"),promoInput=document.querySelector(".submit__promo-input"),promoButtonText=document.querySelector(".submit__promo-button-text"),successContainer=document.querySelector("#success").content.querySelector(".success"),errorContainer=document.querySelector("#error").content.querySelector(".error"),errorButton=errorContainer.querySelector(".error__button"),formSubmit=document.querySelector("#form-submit"),submitButton=formSubmit.querySelector("#submit-button"),productsTitle=document.querySelector(".products__legend"),productsCounts=document.querySelector("#products-count"),productsPrice=document.querySelector("#products-price"),productsList=document.querySelector(".products__list"),totalPrice=document.querySelector("#total-price-items"),priceStocks=document.querySelector("#price-stocks"),priceDiscounts=document.querySelector("#price-discounts"),pricePromo=document.querySelector("#price-promo"),totalPriceAll=document.querySelector("#total-price"),priceDelivery=document.querySelector("#price-delivery"),blockSubmitButton=()=>{submitButton.disabled=!0,submitButton.textContent="Оформляю заказ..."},unblockSubmitButton=()=>{submitButton.disabled=!1,submitButton.textContent="Оформить заказ"},isEscapeKey=e=>"Escape"===e.key||"Esc"===e.key,onPopupEscKeydown=e=>{isEscapeKey(e)&&(e.preventDefault(),removePopup())},onPopupClick=()=>{removePopup()};function removePopup(){errorContainer.remove(),successContainer.remove(),document.removeEventListener("click",onPopupClick),document.removeEventListener("keydown",onPopupEscKeydown)}const showError=()=>{document.body.append(errorContainer),errorContainer.append(errorButton),errorButton.addEventListener("click",(()=>{errorContainer.remove()})),document.addEventListener("click",onPopupClick),document.addEventListener("keydown",onPopupEscKeydown),setTimeout((()=>{errorContainer.remove()}),4e3)},showSuccess=()=>{document.body.append(successContainer),document.addEventListener("click",onPopupClick),document.addEventListener("keydown",onPopupEscKeydown),setTimeout((()=>{successContainer.remove()}),4e3)},formatNumber=e=>{const t=String(e).split("");t.splice(-3,0," ");return t.join("")},changesTitle=(e,t)=>{e<="0"?productsTitle.innerHTML="Ваша корзина пуста":"1"===e?productsTitle.innerHTML=`<span class="products__count" id="products-count" data-count="${e}">${e}</span> товар на сумму <span class="products__price" id="products-price" data-products-price="${t}">${formatNumber(t)}</span>&nbsp;₽`:e>"1"&&e<"5"?productsTitle.innerHTML=`<span class="products__count" id="products-count" data-count="${e}">${e}</span> товара на сумму <span class="products__price" id="products-price" data-products-price=${t}>${formatNumber(t)}</span>&nbsp;₽`:e>="5"&&(productsTitle.innerHTML=`<span class="products__count" id="products-count" data-count="${e}">${e}</span> товаров на сумму <span class="products__price" id="products-price" data-products-price=${t}>${formatNumber(t)}</span>&nbsp;₽`)},getItemPrice=e=>e.value*e.dataset.oldPrice;export{showError,showSuccess,blockSubmitButton,unblockSubmitButton,formSubmit,formatNumber,contactsInputs,contactsPlaceholders,text,promoInput,promoButtonText,changesTitle,submitButton,productsList,productsCounts,productsPrice,totalPrice,priceStocks,priceDiscounts,pricePromo,totalPriceAll,priceDelivery,getItemPrice};